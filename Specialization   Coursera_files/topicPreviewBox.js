define(["jquery","backbone","underscore","js/core/coursera","pages/specialization/views/topicPreviewBox.html","i18n!js/json/nls/specializations","js/models/course","js/collections/courses","js/lib/prices"],function($,Backbone,_,Coursera,template,_t,Course,Courses,prices){return Backbone.View.extend({render:function(){var self=this,sigtrackCourses=new Courses;if(this.options.topic){var isCapstone=this.options.topic.get("is_capstone");this.options.topic.get("courses").each(function(course){var sigtrackRegistrationOpen=course.get("signature_track_registration_open"),canShowForNonCapstone=!isCapstone&&(1==course.get("status")||Coursera.user.isEnrolledInCourse(course.get("id")))&&sigtrackRegistrationOpen;if(course.isEligibleForTrack()&&(canShowForNonCapstone||isCapstone)&&"past"!==course.getStartStatus())sigtrackCourses.add(course)})}if(this.$el.html(template({_t:_t,_localize:prices.localize,config:Coursera.config,topic:this.options.topic,is_capstone:this.options.topic.get("is_capstone"),capstone:this.options.capstone,sigtrackCourses:Courses.byTime(sigtrackCourses),unitIndex:this.options.unitIndex+1})),0!==this.options.unitIndex)this.$el.find(".coursera-specialization-topic").hide();return this}})});