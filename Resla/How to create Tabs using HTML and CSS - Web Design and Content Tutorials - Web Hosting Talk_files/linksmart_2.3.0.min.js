var LinkSmart=function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.prototype.indexOf||(Array.prototype.indexOf=function(b,a){for(var d=a||0,c=this.length;d<c;d++)if(this[d]===b)return d;return-1});var b={class2type:{},type:function(k){return null==k?String(k):"object"===typeof k||"function"===typeof k?b.class2type[Object.prototype.toString.call(k)]||"object":typeof k},isWindow:function(b){return null!=b&&b===b.window},isArraylike:function(k){var a=
k.length,d=b.type(k);return b.isWindow(k)?!1:1===k.nodeType&&a?!0:"array"===d||"function"!==d&&(0===a||"number"===typeof a&&0<a&&a-1 in k)},each:function(k,a){try{var d,c=0;if(void 0!==k&&null!=k)if(b.isArraylike(k))for(;c<k.length&&(d=a.call(k[c],c,k[c]),!1!==d);c++);else for(c in k)if(d=a.call(k[c],c,k[c]),!1===d)break}catch(g){throw g;}},prefetchLogos:function(){(new Image).src=h.lsIconSmPng;(new Image).src=h.lsIconSmSvg},isIE7:function(){return-1!=navigator.appVersion.indexOf("MSIE 7.")},isIE8:function(){return-1!=
navigator.appVersion.indexOf("MSIE 8.")},_keywordEscapeRegEx:/[\-\[\]{}()*+?.\\\^$#]/g,_keywordPhraseMultiSpace:/[ ]/g,_keywordPuncuationWithPossibeSpaces:/[,|;:]/g,createKeywordRegex:function(k){k=k.replace(b._keywordEscapeRegEx,"\\$\x26");k=k.replace(b._keywordPhraseMultiSpace,"[\\s\\u00a0]+");k=k.replace(b._keywordPuncuationWithPossibeSpaces,"[\\s\\u00a0]*$\x26");return RegExp("(^|[\\s\\u00a0\\(\\[\\{\x3c\"`'])("+k+")(?:[\\s\\u00a0\\.,?!:;\\)\\]\\}\x3e\"`]|'(?!s|re|ve|d|m|t)|$)","gim")},decodeQueryString:function(k){k=
k.substr(1);if(!k)return{};k=k.split("\x26");var a={};b.each(k,function(b,c){c=c.split("\x3d");a[decodeURIComponent(c[0])]=decodeURIComponent(c[1])});return a},genUUIDv4:function a(b){return b?(b^16*Math.random()>>b/4).toString(16):([1E7]+-1E3+-4E3+-8E3+-1E11).replace(/[018]/g,a)},obj:{clone:function(a){null!==a&&void 0!==a||die("obj is undefined!");var b=function(){};b.prototype=a;b=new b;b._original=a;return b},copy:function(a){null!==a&&void 0!==a||die("obj is undefined!");var b={},c;for(c in a)b[c]=
a[c];return b},extend:function(){for(var a=Array.prototype.slice.call(arguments),b=a.shift(),c,g,p=0;p<a.length;p++)for(g in c=a[p],c)b[g]=c[g];return b}},is:{blank:function(a){return""===a||null===a||void 0===a},present:function(a){return!b.is.blank(a)},empty:function(a){return void 0!==a&&null!=a&&0<a.length?!1:!0},within:function(a,b){return void 0!==a&&null!=a&&0<a.length?0<=a.indexOf(b):!1}},parseDomain:function(a){var b=document.createElement("a");b.href=a;return b.hostname},defaultRT:{blank:function(a,
d){return b.is.blank(a)?d:a}},elem:{parent:function(a){return a.parentNode||a.parentElement},addEventListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent?a.attachEvent("on"+b,c):element["on"+type]=handler},removeEventListener:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent?a.detachEvent("on"+b,c):element["on"+type]=null},is:{parent:function(a,d){return a.parentNode?a.parentNode==d?!0:b.elem.is.parent(a.parentNode,d):!1},parents:function(a,
d){var c=!1;b.is.empty(d)||b.each(d,function(d,p){if(b.elem.is.parent(a,p))return c=!0,!1});return c}}},event:{preventDefault:function(a){a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}},script:{load:function(a,b){var c=document.createElement("script"),g;c.onload=c.onerror=c.onreadystatechange=function(){c.readyState&&!/^c|loade/.test(c.readyState)||g||(c.onload=c.onreadystatechange=null,g=!0,b())};c.async=!0;c.src=a;E.insertBefore(c,E.firstChild)}},evalXPath:function(a,d){if(!b.is.blank(a)){var c=
document.evaluate(a,d,null,9,null);if(void 0!==c.singleNodeValue&&null!=c.singleNodeValue)return c.singleNodeValue}return null},evalXPaths:function(a){var d=[];if(!b.is.empty(a)){var c=[];b.each(a,function(a,d){b.is.blank(d)||c.push(d)});if(!b.is.empty(c))try{var g=document.evaluate(c.join("|"),document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),p=g.snapshotLength;for(a=0;a<p;a++)d.push(g.snapshotItem(a))}catch(e){}}return d},JSONify:function(a){var d=[];b.each(a,function(a,b){d.push(b.getJSONObj())});
return d}};b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,d){b.class2type["[object "+d+"]"]=d.toLowerCase()});(function(a){var d=function(b){g=!1;d.isReady=!1;"function"===typeof b&&(p=b);b=!1;if(!g)if(g=!0,"loading"!==c.readyState&&f(),c.addEventListener)c.addEventListener("DOMContentLoaded",e,!1),a.addEventListener("load",e,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",e);a.attachEvent("onload",e);try{b=null==a.frameElement}catch(y){}c.documentElement.doScroll&&
b&&h()}},c=a.document,g=!1,p=function(){},e=function(){c.addEventListener?c.removeEventListener("DOMContentLoaded",e,!1):c.detachEvent("onreadystatechange",e);f()},f=function(){if(!d.isReady){if(!c.body)return setTimeout(f,1);d.isReady=!0;p()}},h=function(){if(!d.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(h,1);return}f()}};d.isReady=!1;b.$=d})(window);var f=function(a,b){var c=1E5*Math.random();return{getAddress:function(){return"https:"==document.location.protocol?b.replace("#RND#",
c):a.replace("#RND#",c)}}},F=function(a){var d="",c="",g="",f="existing",e=!1,h="",x="",q=0,y="",D="",n=null;return{getKeywordSequenceId:function(){return h},setKeywordSequenceId:function(a){h=a},getImpressionId:function(){return x},setImpressionId:function(a){x=a},getKeyword:function(){return a},setDestination:function(a){d=a},getDestination:function(){return d},setPhrase:function(a){c=a},getPhrase:function(){return c},setWhitelistID:function(a){g=a},setType:function(a){f=a},getType:function(){return f},
isInjected:function(){return 0<q},incrInjected:function(){q++},getInjected:function(){return q},setInternal:function(a){e=a},isInternal:function(){return e},getJSONObj:function(){return{name:a,destination_uri:d,whitelist_id:g,injected:0<q,injected_count:q,phrase:c,meta:y}},getRegEx:function(){null==n&&(n=b.createKeywordRegex(a));return n},getTracker:function(){return D},setTracker:function(a){D=a},setMeta:function(a){y=a}}},A=function(){var a=null,b=[];return{getElement:function(){return a},setElement:function(b){a=
b},getTextNodes:function(){return b},addTextNode:function(a){b.push(a)}}},H=function(a,b){return{addMatch:function(a){b.push(a)},getMatches:function(){return b},getTextNode:function(){return a}}},N=function(a,b,c,g){return{getKeyword:function(){return a},getStartIndex:function(){return b},getEndIndex:function(){return c},getLinkText:function(){return g}}},O=function(a,b){var c=null,g=null;return{getXPath:function(){return a},getBlacklist:function(){return b},setContentElement:function(a){c=a},setBlacklistElements:function(a){g=
a},getContentElement:function(){return c},getBlacklistElements:function(){return g}}};"object"!==typeof LS_JSON&&(LS_JSON={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var b=x[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,D){var n,f,B,g,p=e,r,l=D[a];l&&"object"===typeof l&&"function"===typeof l.toLSJSON&&(l=l.toLSJSON(a));"function"===typeof q&&(l=q.call(D,
a,l));switch(typeof l){case "string":return b(l);case "number":return isFinite(l)?String(l):"null";case "boolean":case "null":return String(l);case "object":if(!l)return"null";e+=h;r=[];if("[object Array]"===Object.prototype.toString.apply(l)){g=l.length;for(n=0;n<g;n+=1)r[n]=c(n,l)||"null";B=0===r.length?"[]":e?"[\n"+e+r.join(",\n"+e)+"\n"+p+"]":"["+r.join(",")+"]";e=p;return B}if(q&&"object"===typeof q)for(g=q.length,n=0;n<g;n+=1)"string"===typeof q[n]&&(f=q[n],(B=c(f,l))&&r.push(b(f)+(e?": ":":")+
B));else for(f in l)Object.prototype.hasOwnProperty.call(l,f)&&(B=c(f,l))&&r.push(b(f)+(e?": ":":")+B);B=0===r.length?"{}":e?"{\n"+e+r.join(",\n"+e)+"\n"+p+"}":"{"+r.join(",")+"}";e=p;return B}}"function"!==typeof Date.prototype.toLSJSON&&(Date.prototype.toLSJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toLSJSON=Number.prototype.toLSJSON=
Boolean.prototype.toLSJSON=function(){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,h,x={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;"function"!==typeof LS_JSON.stringify&&(LS_JSON.stringify=function(a,b,d){var f;h=e="";if("number"===typeof d)for(f=
0;f<d;f+=1)h+=" ";else"string"===typeof d&&(h=d);if((q=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("LS_JSON.stringify");return c("",{"":a})});"function"!==typeof LS_JSON.parse&&(LS_JSON.parse=function(a,b){function c(a,d){var f,e,g=a[d];if(g&&"object"===typeof g)for(f in g)Object.prototype.hasOwnProperty.call(g,f)&&(e=c(g,f),void 0!==e?g[f]=e:delete g[f]);return b.call(a,d,g)}var d;a=String(a);g.lastIndex=0;g.test(a)&&(a=a.replace(g,function(a){return"\\u"+
("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("LS_JSON.parse");})})();var h={ms:f("//mp.link-smart.com","//ms-ssl.erovinmo.com"),mis:f("//mp.link-smart.com","//mis-ssl.erovinmo.com"),cdn:f("//cdn.linksmart.com","//976e11830d6abf79358a-c8b3424f9ab3814872085b6c0036edcb.ssl.cf1.rackcdn.com"),
thirdPartyPixels:[f("//pixel.quantserve.com/pixel/p-VvcjNjXe1AqjN.gif?r\x3d#RND#","//pixel.quantserve.com/pixel/p-VvcjNjXe1AqjN.gif?r\x3d#RND#")],popupLogoLink:"http://www.linksmart.com/info/about-marketplace-links"};h.lsIconSmPng=h.cdn.getAddress()+"/ls_icon_sm.png";h.lsIconSmSvg=h.cdn.getAddress()+"/ls_icon_sm.svg";var E=document.getElementsByTagName("head")[0];(new Date).getTime();var G=!1,I={},f={},J=function(){return{getUserID:function(){var a=this.get("_lsd0");a.length||(a=b.genUUIDv4(),this.set("_lsd0",
a));return a},set:function(a,b){var c=new Date;c.setFullYear(parseInt(c.getFullYear(),10)+5,0,1);document.cookie=a+"\x3d"+b+"; expires\x3d"+c.toUTCString()+"; path\x3d/"},get:function(a){if(0<document.cookie.length){var b=document.cookie.indexOf(a+"\x3d");if(-1!==b){b=b+a.length+1;a=[];var c=document.cookie.indexOf(";",b);0<c&&a.push(c);c=document.cookie.indexOf("|",b);0<c&&a.push(c);a=a.length?Math.min.apply(null,a):document.cookie.length;return b=document.cookie.substring(b,a)}}return""},getCurrentViewCount:function(){var a=
this.get("_lsvc0");b.is.blank(a)?a={date:new Date,count:0}:(a=a.split("~"),a={date:new Date(parseInt(a[0])),count:isNaN(a[1])?0:parseInt(a[1])});this.isViewCountTimeFrameReached(a)&&(a={date:new Date,count:0});a.count++;this.setCurrentViewCount(a);return a.count},setCurrentViewCount:function(a){a=a.date.getTime()+"~"+a.count;this.set("_lsvc0",a)},isViewCountTimeFrameReached:function(a){return 864E5<(new Date).getTime()-a.date.getTime()}}}(),s=function(){function a(a){var c=[];a.client_timestamp=""+
(new Date).getTime();b.each(a,function(a,d){null!==d&&void 0!==d&&("string"!=b.type(d)&&(d=LS_JSON.stringify(d)),c.push([encodeURIComponent(a),encodeURIComponent(d)].join("\x3d")))});return c.join("\x26")}function d(){var a=h.mis.getAddress()+"/page/iframe#mis_url\x3d"+h.mis.getAddress();e=document.createElement("iframe");e.setAttribute("id",p);e.setAttribute("name",p);e.setAttribute("height","0px");e.setAttribute("width","0px");e.setAttribute("frameborder","0");e.setAttribute("style","display:none");
document.body.appendChild(e);b.elem.addEventListener(window,"message",function(a){x||"ls_ready"!=a.data||(x=!0,b.each(q,function(a,b){c(b)}),q=[])});e.src?e.src=a:null!==e.contentWindow&&null!==e.contentWindow.location?e.contentWindow.location=a:e.setAttribute("src",a)}function c(a){x?e.contentWindow.postMessage(a,location.protocol+h.mis.getAddress()):(q.push(a),d())}function f(a){return function(b){var c=!1;"object"==typeof b&&(c=b);c&&a(c)}}var p="ls_statefull_iframe",e,s=0,x=!1,q=[],y={user:"",
site_guid:"",pub_id:"",uri:"",view_count:""};return{getParams:function(a){return b.obj.extend({},y,a)},jsonpRequest:function(b,c,d){s++;var e="LS_JSONCB_"+s;window[e]=f(d);c=this.getParams(c);c.jsoncallback=e;b=b+"?"+a(c);e=document.createElement("SCRIPT");e.async=!0;e.src=b;E.appendChild(e)},iframePost:function(b){b=this.getParams(b);c(a(b))},init:function(a,b){y.user=J.getUserID();y.uri=document.location.href;y.view_count=J.getCurrentViewCount();this.setIDs(b,a)},setIDs:function(a,c){b.is.blank(a)||
(y.site_guid=a);b.is.blank(c)||(y.pub_id=c)},buildQueryString:a,addUrlParam:function(a,b,c){b=b.replace("?","");c=c.replace("?","");c=b+"\x3d"+c;var d="?"+c;a=a.split("?");var f="?"+(2==a.length?a[1]:"");1<f.length&&((b=RegExp("[?\x26]"+b+"[^\x26]*").exec(f))?"\x26"==b[0].charAt(0)?d=f.replace(b,"\x26"+c):"?"==b[0].charAt(0)&&(d=f.replace(b,"?"+c)):d=f+"\x26"+c);return a[0]+d}}}(),L=function(a,d){var c=!1,f=0,p=function(a,c){c.isInternal()||(a.setAttribute("rel","nofollow"),a.setAttribute("target",
"_blank"));b.elem.addEventListener(a,"mousedown",function(b){b=b||window.event;2==b.button||a.getAttribute("data-ls-clicked")||(a.setAttribute("data-ls-clicked","1"),b=new String(a.href),"marketplace"==c.getType()?a.href=e(b,c,!0).url:(b=e(b,c,!1),s.jsonpRequest(b.url,b.params,null)))})},e=function(a,b,c){b={impression_id:b.getImpressionId(),keyword_sequence_id:b.getKeywordSequenceId(),type:b.getType(),keyword:b.getJSONObj(),keywords_count:f};return c?(b.destination=a,b.uri="",a=s.getParams(b),{url:h.ms.getAddress()+
"/page/click_proxy?"+s.buildQueryString(a),params:b}):{url:h.ms.getAddress()+"/page/click",params:b}},E=function(a){var c="";b.is.blank(a.getTracker())?a.isInternal()&&(c="lc\x3dint_mb_1001"):c=a.getTracker();if(!b.is.blank(c)){var d=a.getDestination();b.each(c.split("\x26"),function(a,c){if(!b.is.blank(c)){var f=c.split("\x3d");2==f.length&&(d=s.addUrlParam(d,f[0],f[1]))}});return d}return a.getDestination()},x=function(a,c){var d=function(){var b="";return{mouseover:function(d){b=a.style.cssText;
try{a.style.cssText+=c.linkHoverAdditionalStyles}catch(f){}},mouseout:function(c){try{a.style.cssText=b}catch(d){}}}};if(b.is.present(c.linkAdditionalStyles))try{a.style.cssText+=c.linkAdditionalStyles}catch(f){}b.is.present(c.linkHoverAdditionalStyles)&&(d=d(),b.elem.addEventListener(a,"mouseover",d.mouseover),b.elem.addEventListener(a,"mouseout",d.mouseout))},q=function(a,b){b.linkLogoEnabled&&(a.style.cssText+="background-image:  url('"+h.lsIconSmPng+"');",a.style.cssText+="background-image:  none, url('"+
h.lsIconSmSvg+"');",a.style.cssText+="background-repeat: no-repeat; background-attachment: left;",a.style.cssText+="padding-left: "+(16).toString()+"px;")},y=function(a,c,d){var f=function(){var b={proxy:e(c.getDestination(),c,!0).url,keyword:a,phrase:c.getPhrase(),destination:c.getDestination()};return h.popupLogoLink+"?"+s.buildQueryString(b)},C={reset:{text:function(a){a.style.padding="0px";a.style.margin="0px";a.style.fontSize="100%";a.style.fontWeight="normal";return a},img:function(a){a.style.border=
"0px";a.style.padding="0px";a.style.margin="0px";return a},link:function(a){a.style.textDecoration="none";return a}},borderRadius:function(a,b){var c=!1;void 0!==a.style.MozBorderRadius&&(a.style.MozBorderRadius=b,c=!0);void 0!==a.style.WebkitBorderRadius&&(a.style.WebkitBorderRadius=b,c=!0);void 0!==a.style.borderRadius&&(a.style.borderRadius=b,c=!0);return c},boxShadow:function(a,b){var c=!1;void 0!==a.style.MozBoxShadow&&(a.style.mozBoxShadow=b,c=!0);void 0!==a.style.WebkitBoxShadow&&(a.style.WebkitBoxShadow=
b,c=!0);void 0!==a.style.boxShadow&&(a.style.boxShadow=b,c=!0);a.style.borderCollapse="separate";return c},logoMedium:function(a){a.style.cssText+="background-color: #ffffff;";a.style.cssText+="background-repeat: no-repeat;";a.style.cssText+="background-position: left center;";a.style.cssText+="background-image:  url('"+h.lsIconSmPng+"');";a.style.cssText+="background-image:  none, url('"+h.lsIconSmSvg+"');"},flt:function(a,b){a.style.styleFloat=b;a.style.cssFloat=b}},z=function(b){var d=document.createElement("a");
d.setAttribute("data-ls-seen","1");b?d.style.textDecoration="none":d.appendChild(document.createTextNode(a));d.href=E(c);"whitelist"==c.getType()?d.setAttribute("class","mandelbrot_refrag"):"marketplace"==c.getType()&&d.setAttribute("class","linksmart_marketplace");p(d,c);return d},u=function(){var a=document.createElement("span");"whitelist"==c.getType()?a.setAttribute("class","mandelbrot_refrag"):"marketplace"==c.getType()&&a.setAttribute("class","linksmart_marketplace");a.style.position="relative";
a.style.display="inline-block";return a}(),g=z(!1);x(g,d);q(g,d);var K=function(a,c,e,g,u,h){var w=function(){var a=document.createElement("a");a.setAttribute("href",f());a.setAttribute("target","_blank");C.reset.link(a);C.logoMedium(a);a.style.width="16px";a.style.minHeight="16px";a.style.marginBottom="-4px";a.style.border="0px";a.style.textDecoration="none";a.style.display="inline-block";a.style.marginRight="3px";return a};c=function(){var a=z(!0);a.appendChild(document.createTextNode(g));a.style.background=
"#fff";a.style.fontSize="11px";a.style.color="#808080";a.style.lineHeight="10px";a.style.padding="0px 5px 2px 6px";a.style.fontStyle="normal";C.flt(a,"left");a.style.clear="both";C.borderRadius(a,"0 0 3px 3px");C.boxShadow(a,"0px 3px 3px rgba(0, 0, 0, .50)")||(a.style.border="1px solid gray",a.style.borderTop="0px",a.style.marginTop="-1px");return a};var v=function(){var a=document.createElement("span");a.setAttribute("class","ls_ext_ovl");C.reset.text(a);a.style.color="#06a";a.style.display="none";
a.style.position="fixed";a.style.cursor="pointer";a.style.whiteSpace="nowrap";C.flt(a,"none");a.style.zIndex="2147483647";return a}();e=function(){var a=document.createElement("span");a.setAttribute("class","ls_extra");a.style.background="#fff";a.style.padding="1px 6px 1px 6px";a.style.marginTop="-2px";C.flt(a,"left");C.borderRadius(a,"2px 2px 2px 0px");C.boxShadow(a,"1px 1px 7px rgba(0, 0, 0, .90)")||(a.style.border="1px solid gray");return a}();v.appendChild(e);d.hoverLogoEnabled&&(w=w(),e.appendChild(w));
w=z(!0);x(w,d);var K=function(a){var b=u.toLowerCase().search(h.toLowerCase());a.appendChild(document.createTextNode(u.substr(0,b)));var c=document.createElement("b");c.style.fontWeight="bold";c.appendChild(document.createTextNode(h));a.appendChild(c);a.appendChild(document.createTextNode(u.substr(b+h.length,u.length)));return c}(w);e.appendChild(w);d.hoverDomainEnabled&&b.is.present(g)&&(c=c(),v.appendChild(c));var l=function(){var b=0;d.linkLogoEnabled&&(b-=16);var c=a.getBoundingClientRect();v.style.top=
c.top+"px";v.style.left=c.left+"px";var f=c.left,e=v.getBoundingClientRect().width+f,b=K.getBoundingClientRect().left-f+b,u=Math.min(document.documentElement.clientWidth,window.innerWidth||0),e=e-b;u<e&&(b=b+(e-u)+10);0>f-b&&(b=f-10);v.style.left=(c.left-b).toString()+"px"};b.elem.addEventListener(a,"mouseover",function(a){b.elem.addEventListener(window,"scroll",l);v.style.display="block";l()});b.elem.addEventListener(a,"mouseout",function(a){v.style.display="none";b.elem.removeEventListener(window,
"scroll",l)});return v}(u,g,!0,b.parseDomain(c.getDestination()),c.getPhrase(),a);u.appendChild(K);u.appendChild(g);return u},D=function(a,c){var d=[];b.each(a.getContentElement().getElementsByTagName("a"),function(f,e){if(!(e.getAttribute("data-ls-seen")||b.is.blank(e.href)||b.is.within(e,a.getBlacklistElements())||b.elem.is.parents(e,a.getBlacklistElements()))){var g=(e.innerText||e.textContent||"").trim(),u=e.getAttribute("href").toLowerCase();0==u.indexOf("#")||0==u.indexOf("javascript:")||b.is.blank(g)||
(g=F(g),g.setDestination(e.href),g.incrInjected(),g.setWhitelistID(null),g.setInternal(!0),g.setType("existing"),g.setKeywordSequenceId(c.keyword_sequence_id),g.setImpressionId(c.impression_id),d.push(g),e.setAttribute("data-ls-seen","1"),p(e,g))}});return d},n=function(){var a=["script","iframe","a","noscript","img"],c=function(c,d){var f=c.nodeName.toLowerCase();return b.is.within(a,f)||b.is.within(d,c)||b.elem.is.parents(c,d)},d=function(a,c){var d=a.nodeValue,f=[];b.each(c,function(a,b){for(var c=
b.getRegEx();m=c.exec(d);){m.index==c.lastIndex&&c.lastIndex++;var e=m[2],g=m.index+(m[1]||"").length;f.push(N(b,g,g+e.length-1,e))}});return f};return{findTextNodes:function(a,f,e){var g=[],h=function(a){if(a.nodeType==Node.TEXT_NODE){var v=d(a,e);b.is.empty(v)||g.push(H(a,v))}else c(a,f)||b.each(a.childNodes,function(a,b){h(b)})};h(a);return g}}}(),G=function(){var a="p li div h1 h2 h3 h4 h5 h6 section nav article aside header footer main address dt dd th td".split(" "),c=function(d){if(null!=d){var f=
d.nodeName.toLowerCase();if(b.is.within(a,f))return d;d=b.elem.parent(d);return c(d)}return null};return{findBlockByElement:function(a,c){var d=null;b.each(a,function(a,b){if(b.getElement()==c)return d=b,!1});null==d&&(d=A(null),d.setElement(c),a.push(d));return d},groupTextNodesByBlock:function(a){var d=[],f=this;b.each(a,function(a,b){var e=c(b.getTextNode());null!=e&&(e=f.findBlockByElement(d,e),null!=e&&e.addTextNode(b))});return d}}}(),B=function(a,c,d,f,e,g,u){c=c.concat(d);var h={},l=0;a=n.findTextNodes(a.getContentElement(),
a.getBlacklistElements(),c);a=G.groupTextNodesByBlock(a);var s=function(a,b){if(a.getStartIndex()<=b.getStartIndex()&&a.getEndIndex()>=b.getStartIndex()){var c=a.getLinkText().length>=b.getLinkText().length,d=a.getKeyword().getType(),f=b.getKeyword().getType();if(1==g){if("whitelist"==d&&"whitelist"==f)return c?-1:1;if("whitelist"==d&&"marketplace"==f)return-1;if("marketplace"==d&&"whitelist"==f)return 1}else if(2==g){if("marketplace"==d&&"marketplace"==f)return c?-1:1;if("whitelist"==d&&"marketplace"==
f)return 1;if("marketplace"==d&&"whitelist"==f)return-1}else return c?-1:1}else return a.getStartIndex()<b.getStartIndex()&&a.getEndIndex()<b.getStartIndex()?-1:1};b.each(a,function(a,c){if(l>=f)return!1;var d={};b.each(c.getTextNodes(),function(a,c){if(l>=f)return!1;if(0<c.getMatches().length){var g=c.getMatches();g.sort(s);var M=c.getTextNode().nodeValue,z=[],w,v,n=0;b.each(g,function(a,b){if(l>=f)return!1;var c=b.getKeyword();if(b.getStartIndex()>=n&&void 0===d[c.getKeyword()]){var g=0;void 0!==
h[c.getKeyword()]&&(g=h[c.getKeyword()]);if(g<e){w=M.substring(n,b.getStartIndex());if(u.hoverEnabled&&"marketplace"==b.getKeyword().getType())v=y(b.getLinkText(),b.getKeyword(),u);else{var t=b.getLinkText(),r=b.getKeyword(),s=document.createElement("a");s.setAttribute("data-ls-seen","1");s.appendChild(document.createTextNode(t));s.href=E(r);t=document.createElement("span");t.appendChild(s);"whitelist"==r.getType()?(t.setAttribute("class","mandelbrot_refrag"),s.setAttribute("class","mandelbrot_refrag")):
"marketplace"==r.getType()&&(t.setAttribute("class","linksmart_marketplace"),s.setAttribute("class","linksmart_marketplace"),x(s,u),q(s,u));p(s,r);v=t}z.push(document.createTextNode(w));z.push(v);n=b.getEndIndex()+1;0==g&&l++;g++;h[c.getKeyword()]=g;d[c.getKeyword()]=1;c.incrInjected()}}});if(0<z.length){w=M.substring(n);0<w.length&&z.push(document.createTextNode(w));var t=c.getTextNode();if(null!=t){var r=b.elem.parent(t);null!=r&&(b.each(z,function(a,b){if(null!=r)r.insertBefore(b,t);else return!1}),
null!=r&&r.removeChild(t))}}}})})},I=function(a,c,d,e,h,z,u){var l=0,n=0,r=[],p=[],t=[],q=function(a,b){l++;if(b.isInjected()){n+=b.getInjected();for(var c=0;c<b.getInjected();c++)a.push(b)}};b.each(e,function(a,b){q(r,b)});b.each(h,function(a,b){q(p,b)});b.each(z,function(a,b){q(t,b)});f=n;c={target_html:c,xpath:d,keywords:b.JSONify(p),marketplace_keywords:b.JSONify(t),existing_keywords:b.JSONify(r),keywords_count:n,keywords_total:l};null!=u&&(c.xpath_used=u.getXPath());s.iframePost(b.obj.extend(c,
a))},J=function(a){var c=null,d=0;try{b.each(a,function(a,f){var e=b.evalXPath(f.getXPath(),document);null!=e&&(0===d||e.innerHTML.length<d)&&(f.setContentElement(e),d=e.innerHTML.length,c=f)})}catch(f){}return c},r=function(a){var c=[];b.each(a,function(a,d){b.is.blank(d.xpath)||c.push(O(d.xpath,d.blacklisted_xpaths))});return c},l=function(a,c,d){var f=[];b.each(a,function(a,e){if("existing"!=e.keyword_type){var g=F(e.name);g.setDestination(e.destination_uri);g.setWhitelistID(e.whitelist_id);g.setType(c);
g.setInternal(e.internal);g.setKeywordSequenceId(d.keyword_sequence_id);g.setImpressionId(d.impression_id);e.hasOwnProperty("phrase")&&b.is.present(e.phrase)?g.setPhrase(e.phrase):g.setPhrase(e.name);b.is.blank(e.meta)||g.setMeta(e.meta);b.is.blank(e.tracker)||g.setTracker(e.tracker);f.push(g)}});return f},L=function(a){var d=function(){c=!0;a()};c||null!=document.evaluate?d():b.script.load(h.cdn.getAddress()+"/xpath.js",d)};return{fetchPageData:function(){var c={referrer:document.referrer,href:location.href,
user_vars:s.buildQueryString(a)},e=h.ms.getAddress()+"/page/data";s.jsonpRequest(e,c,function(a){L(function(){s.setIDs(a.site_guid,a.pub_id);var c=!1,e="",f=null,g=null,h=null,n=null,p={impression_id:b.defaultRT.blank(a.impression_id,""),keyword_sequence_id:b.defaultRT.blank(a.keyword_sequence_id,""),valid:b.defaultRT.blank(a.valid,!0),ab_mode:b.defaultRT.blank(a.ab_mode,0),word_count:b.defaultRT.blank(a.word_count,0),ab_injected:b.defaultRT.blank(a.ab_injected,0),should_execute:b.defaultRT.blank(a.should_execute,
0)},q=b.obj.extend({hoverEnabled:a.on_hover_enabled,hoverLogoEnabled:a.on_hover_logo_enabled&&!b.isIE7()&&!b.isIE8(),hoverDomainEnabled:a.on_hover_domain_enabled,linkLogoEnabled:a.link_logo_enabled&&!b.isIE7()&&!b.isIE8(),linkAdditionalStyles:a.link_additional_styles,linkHoverAdditionalStyles:a.link_hover_additional_styles},d);(q.link_logo_enabled||q.on_hover_logo_enabled)&&b.prefetchLogos();var t=null;a.page_blacklisted||(b.is.empty(a.xpaths)||!a.instrument&&1!=a.should_execute||(t=J(r(a.xpaths)),
null!=t&&t.setBlacklistElements(b.evalXPaths(t.getBlacklist()))),null!=t&&a.instrument?(c=!0,e=t.getContentElement().innerHTML,f=t.getXPath()):a.discover&&(e=document.body.parentNode.innerHTML,f=null),null!=t&&1==a.should_execute&&(c=!0,g=D(t,p),h=l(a.keywords,"whitelist",p),n=l(a.marketplace_keywords,"marketplace",p),B(t,h,n,a.keyword_count,a.keyword_frequency,a.overlap,q)));c&&I(p,e,f,g,h,n,t)})})}}}(I,f);blockThirdParty=["285","68","0e6b0b2fa408d259231b9f7639383940a1d66434ced1bcdb6d816181d1f05295"];
openInjectedNew=["285"];onhoverLimits=["261"];try{/enableLinkSmartConnect/.test(window.location.href)&&(f.hoverEnabled=!0,f.hoverDomainEnabled=!0),/enableLinkSmartConnectLogo/.test(window.location.href)&&(f.hoverEnabled=!0,f.hoverDomainEnabled=!0,f.hoverLogoEnabled=!0)}catch(Q){}!0==/iphone|ipod|ipad|android|windows phone|blackberry|fennec/.test(navigator.userAgent.toLowerCase())&&(f.hoverEnabled=!1);var P=function(){var a;try{a="undefined"!==typeof _mb_site_guid&&-1<blockThirdParty.indexOf(_mb_site_guid)||
"undefined"!==typeof _ls_pub_id&&-1<blockThirdParty.indexOf(_ls_pub_id)?!1:!0}catch(d){a=!1}a&&b.each(h.thirdPartyPixels,function(a,b){(new Image).src=b.getAddress()})};return{hasFired:function(){return G},paginate:function(a){a={referrer:document.referrer,href:location.href};url=h.ms.getAddress()+"/page/view";s.jsonpRequest(url,a,null)},initWhenReady:function(){var a=this;b.$(function(){a.init()})},init:function(a,b){G||(G=!0,a=a?a:window._ls_pub_id?window._ls_pub_id:"",b=b?b:window._mb_site_guid?
window._mb_site_guid:"",null==window.Node&&(window.Node={TEXT_NODE:3}),P(),s.init(a,b),L.fetchPageData())},enabledMarketplace:function(a){this.postUserVariable("mp_enabled",a?"1":"0")},postUserVariable:function(a,b){a instanceof String&&b instanceof String&&(I[a]=b)},popupOptions:f}}();LinkSmart.initWhenReady();function LinkSmart_paginate(){"undefined"!=typeof LinkSmart&&(LinkSmart.paginate(document.location),void 0!==typeof _ls_pub_id&&"285"==_ls_pub_id&&Linksmart_hearst(400))}
function LinkSmart_registerPaginationEvent(b,f,F){if(null!=b&&null!=f){f=document.body.getElementsByTagName(f);for(var A=0;A<f.length;A++){var H=document.all?f[A].className:f[A].getAttribute("class");H&&RegExp(b).test(H)&&(f[A].addEventListener?f[A].addEventListener(F,function(b){LinkSmart_paginate()},!0):f[A].attachEvent&&f[A].attachEvent("on"+F,function(b){LinkSmart_paginate()}))}}}
try{void 0!==typeof _mb_site_guid&&"47ccd4d859728f71380a2280162f599d2f091bc0f9eb76b04bdf8d804324fb14"==_mb_site_guid&&(LinkSmart_registerPaginationEvent("wx-next-media","div","click"),LinkSmart_registerPaginationEvent("wx-prev-media","div","click"),LinkSmart_registerPaginationEvent("wx-next-immersive","div","click"),LinkSmart_registerPaginationEvent("wx-prev-immersive","div","click"),LinkSmart_registerPaginationEvent("wx-slide","li","click"))}catch(e$$8){}
try{if(void 0!==typeof _ls_pub_id&&"285"==_ls_pub_id){!1==LinkSmart.hasFired()&&document.readyState&&"complete"==document.readyState&&LinkSmart.init();LinkSmart_registerPaginationEvent("prev","a","click");LinkSmart_registerPaginationEvent("next","a","click");LinkSmart_registerPaginationEvent("fbPrev","a","click");LinkSmart_registerPaginationEvent("fbNext","a","click");LinkSmart_registerPaginationEvent("votebtn","a","click");LinkSmart_registerPaginationEvent("fb_thumbimg","img","click");LinkSmart_registerPaginationEvent("next button",
"img","click");LinkSmart_registerPaginationEvent("prev button","img","click");LinkSmart_registerPaginationEvent("fb_bflair","div","click");/townandcountrymag/.test(window.location.host)&&(LinkSmart_registerPaginationEvent("chvbtn next","div","click"),LinkSmart_registerPaginationEvent("chvbtn prev","div","click"));var Linksmart_hearst=function(b){setTimeout(function(){/townandcountrymag/.test(window.location.host)&&LinkSmart_registerPaginationEvent("fb_bflair","div","mousedown")},b)}}Linksmart_hearst(0)}catch(e$$9){};